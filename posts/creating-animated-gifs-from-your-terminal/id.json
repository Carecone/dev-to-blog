{"type_of":"article","id":1171431,"title":"Creating animated gifs from your terminal","description":"Creating animated gifs from your terminal   Post created at 2022-08-19 08:36  I need to...","readable_publish_date":"Aug 19","slug":"creating-animated-gifs-from-your-terminal-3oo5","path":"/guionardo/creating-animated-gifs-from-your-terminal-3oo5","url":"https://dev.to/guionardo/creating-animated-gifs-from-your-terminal-3oo5","comments_count":0,"public_reactions_count":0,"collection_id":null,"published_timestamp":"2022-08-19T14:35:23Z","positive_reactions_count":0,"cover_image":null,"social_image":"https://dev.to/social_previews/article/1171431.png","canonical_url":"https://dev.to/guionardo/creating-animated-gifs-from-your-terminal-3oo5","created_at":"2022-08-19T14:35:23Z","edited_at":null,"crossposted_at":null,"published_at":"2022-08-19T14:35:23Z","last_comment_at":"2022-08-19T14:35:23Z","reading_time_minutes":3,"tag_list":"terminal, gif, linux","tags":["terminal","gif","linux"],"body_html":"\u003ch1\u003e\n  \u003ca name=\"creating-animated-gifs-from-your-terminal\" href=\"#creating-animated-gifs-from-your-terminal\"\u003e\n  \u003c/a\u003e\n  Creating animated gifs from your terminal\n\u003c/h1\u003e\n\n\u003cp\u003ePost created at 2022-08-19 08:36\u003c/p\u003e\n\n\u003cp\u003eI need to generate some videos to demonstrate console applications running.\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://res.cloudinary.com/practicaldev/image/fetch/s--UitAsJgv--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/dancing-duck-acegifcom-72.gif\" class=\"article-body-image-wrapper\"\u003e\u003cimg src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--UitAsJgv--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/dancing-duck-acegifcom-72.gif\" alt=\"gif\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://acegif.com/wp-content/uploads/2022/4hv9xm/dancing-duck-acegifcom-72.gif\"\u003esource\u003c/a\u003e\u003c/p\u003e\n\n\u003cp\u003eScreen casting or capture is boring, and generates large files. \u003c/p\u003e\n\n\u003cp\u003eThen, I found two command line tools that do the job.\u003c/p\u003e\n\n\u003cp\u003eFirst, we need to capture the console interation, and this is done using the Terminal Session Recorder \u003ca href=\"https://asciinema.org/\"\u003easciinema\u003c/a\u003e. Installation instructions can be found \u003ca href=\"https://asciinema.org/docs/installation\"\u003ehere\u003c/a\u003e.\u003c/p\u003e\n\n\u003cp\u003eI'm using Ubuntu, so the installation was easy-peasy.\u003cbr\u003e\n\u003c/p\u003e\n\n\u003cdiv class=\"highlight js-code-highlight\"\u003e\n\u003cpre class=\"highlight shell\"\u003e\u003ccode\u003e❯ \u003cspan class=\"nb\"\u003esudo \u003c/span\u003eapt \u003cspan class=\"nb\"\u003einstall \u003c/span\u003easciinema\n\u003cspan class=\"o\"\u003e[\u003c/span\u003e\u003cspan class=\"nb\"\u003esudo\u003c/span\u003e\u003cspan class=\"o\"\u003e]\u003c/span\u003e senha para guionardo: \nA ler as listas de pacotes... Pronto\nA construir árvore de dependências \nA ler a informação de estado... Pronto\nSerão instalados os seguintes NOVOS pacotes:\n asciinema\n0 pacotes actualizados, 1 pacotes novos instalados, 0 a remover e 0 não actualizados.\nÉ necessário obter 35,0 kB de arquivos.\nApós esta operação, serão utilizados 125 kB adicionais de espaço em disco.\nObter:1 http://br.archive.ubuntu.com/ubuntu focal/universe amd64 asciinema all 2.0.2-1 \u003cspan class=\"o\"\u003e[\u003c/span\u003e35,0 kB]\nObtidos 35,0 kB em 7s \u003cspan class=\"o\"\u003e(\u003c/span\u003e4.877 B/s\u003cspan class=\"o\"\u003e)\u003c/span\u003e \nA seleccionar pacote anteriormente não seleccionado asciinema.\n\u003cspan class=\"o\"\u003e(\u003c/span\u003eA ler a base de dados ... 435184 ficheiros e directórios actualmente instalados.\u003cspan class=\"o\"\u003e)\u003c/span\u003e\nA preparar para desempacotar .../asciinema_2.0.2-1_all.deb ...\nA descompactar asciinema \u003cspan class=\"o\"\u003e(\u003c/span\u003e2.0.2-1\u003cspan class=\"o\"\u003e)\u003c/span\u003e ...\nA instalar asciinema \u003cspan class=\"o\"\u003e(\u003c/span\u003e2.0.2-1\u003cspan class=\"o\"\u003e)\u003c/span\u003e ...\nA processar \u003cspan class=\"s1\"\u003e'triggers'\u003c/span\u003e para man-db \u003cspan class=\"o\"\u003e(\u003c/span\u003e2.9.1-1\u003cspan class=\"o\"\u003e)\u003c/span\u003e ...\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"highlight__panel js-actions-panel\"\u003e\n\u003cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003e\n    \u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003e\u003ctitle\u003eEnter fullscreen mode\u003c/title\u003e\n    \u003cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003e\u003c/path\u003e\n\u003c/svg\u003e\n\n    \u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003e\u003ctitle\u003eExit fullscreen mode\u003c/title\u003e\n    \u003cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003e\u003c/path\u003e\n\u003c/svg\u003e\n\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\n\n\n\u003cp\u003eFor our first test, we can command:\u003cbr\u003e\n\u003c/p\u003e\n\n\u003cdiv class=\"highlight js-code-highlight\"\u003e\n\u003cpre class=\"highlight shell\"\u003e\u003ccode\u003e❯ asciinema rec first.cast\nasciinema: recording asciicast to first.cast\nasciinema: press \u0026lt;ctrl-d\u0026gt; or \u003cspan class=\"nb\"\u003etype\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"exit\"\u003c/span\u003e when you\u003cspan class=\"s1\"\u003e're done\n\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"highlight__panel js-actions-panel\"\u003e\n\u003cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003e\n    \u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003e\u003ctitle\u003eEnter fullscreen mode\u003c/title\u003e\n    \u003cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003e\u003c/path\u003e\n\u003c/svg\u003e\n\n    \u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003e\u003ctitle\u003eExit fullscreen mode\u003c/title\u003e\n    \u003cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003e\u003c/path\u003e\n\u003c/svg\u003e\n\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\n\n\n\u003cp\u003eAfter that, you can run your commands normally and all your key strokes and console outputs will be recorded into the \u003cem\u003efirst.cast\u003c/em\u003e file.\u003c/p\u003e\n\n\u003cp\u003eTo finish the capture press \u003cem\u003eCTRL+D\u003c/em\u003e or type \u003cem\u003eexit\u003c/em\u003e. Check the \u003ca href=\"https://asciinema.org/docs/usage\"\u003eofficial usage documentation\u003c/a\u003e for more options.\u003c/p\u003e\n\n\u003cp\u003eNow, we need to generate the animated gif file. The tool to this job is the might \u003ca href=\"https://github.com/asciinema/agg\"\u003eagg - asciinema gif generator\u003c/a\u003e.\u003c/p\u003e\n\n\u003cp\u003eIt's a \u003ca href=\"https://www.rust-lang.org/\"\u003erust\u003c/a\u003e application, and you can clone the repository and build it, or you can download an binary to your environment surfing to the \u003ca href=\"https://github.com/asciinema/agg/releases/latest\"\u003elatest release link\u003c/a\u003e. Download the correct version to your system, put the executable in some directory you can reach and execute.\u003c/p\u003e\n\n\u003cp\u003eCheck if the installation is OK.\u003cbr\u003e\n\u003c/p\u003e\n\n\u003cdiv class=\"highlight js-code-highlight\"\u003e\n\u003cpre class=\"highlight shell\"\u003e\u003ccode\u003e❯ agg \u003cspan class=\"nt\"\u003e--version\u003c/span\u003e\nagg 1.1.0\n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"highlight__panel js-actions-panel\"\u003e\n\u003cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003e\n    \u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003e\u003ctitle\u003eEnter fullscreen mode\u003c/title\u003e\n    \u003cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003e\u003c/path\u003e\n\u003c/svg\u003e\n\n    \u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003e\u003ctitle\u003eExit fullscreen mode\u003c/title\u003e\n    \u003cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003e\u003c/path\u003e\n\u003c/svg\u003e\n\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\n\n\n\u003cp\u003eIf your shell has some fancy unicode characters (like mine), you can reference a TTF font to render the gif.\u003cbr\u003e\nI like \"JetBrains Mono\", and you can download it from \u003ca href=\"https://www.jetbrains.com/lp/mono/\"\u003ehere\u003c/a\u003e, or if you like another dev font, you can use.\u003c/p\u003e\n\n\u003cp\u003eIn my case, I saved the TTF files into a folder to use in next step.\u003c/p\u003e\n\n\u003cp\u003eGenerate a gif from the \u003cem\u003efirst.cast\u003c/em\u003e file created .\u003cbr\u003e\n\u003c/p\u003e\n\n\u003cdiv class=\"highlight js-code-highlight\"\u003e\n\u003cpre class=\"highlight shell\"\u003e\u003ccode\u003e❯ ./agg \u003cspan class=\"nt\"\u003e--font-dir\u003c/span\u003e ./fonts \u003cspan class=\"nt\"\u003e--font-family\u003c/span\u003e \u003cspan class=\"s2\"\u003e\"agave Nerd Font\"\u003c/span\u003e first.cast first.gif\n31 / 31 \u003cspan class=\"o\"\u003e[=================================================================]\u003c/span\u003e 100.00 % 47.71/s \n\u003c/code\u003e\u003c/pre\u003e\n\u003cdiv class=\"highlight__panel js-actions-panel\"\u003e\n\u003cdiv class=\"highlight__panel-action js-fullscreen-code-action\"\u003e\n    \u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-on\"\u003e\u003ctitle\u003eEnter fullscreen mode\u003c/title\u003e\n    \u003cpath d=\"M16 3h6v6h-2V5h-4V3zM2 3h6v2H4v4H2V3zm18 16v-4h2v6h-6v-2h4zM4 19h4v2H2v-6h2v4z\"\u003e\u003c/path\u003e\n\u003c/svg\u003e\n\n    \u003csvg xmlns=\"http://www.w3.org/2000/svg\" width=\"20px\" height=\"20px\" viewbox=\"0 0 24 24\" class=\"highlight-action crayons-icon highlight-action--fullscreen-off\"\u003e\u003ctitle\u003eExit fullscreen mode\u003c/title\u003e\n    \u003cpath d=\"M18 7h4v2h-6V3h2v4zM8 9H2V7h4V3h2v6zm10 8v4h-2v-6h6v2h-4zM8 15v6H6v-4H2v-2h6z\"\u003e\u003c/path\u003e\n\u003c/svg\u003e\n\n\u003c/div\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\n\n\n\u003cp\u003eAnd now, we have our \u003cem\u003efirst.gif\u003c/em\u003e file in current folder.\u003c/p\u003e\n\n\u003cp\u003e\u003ca href=\"https://res.cloudinary.com/practicaldev/image/fetch/s--FNp6j_4W--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/first.gif\" class=\"article-body-image-wrapper\"\u003e\u003cimg src=\"https://res.cloudinary.com/practicaldev/image/fetch/s--FNp6j_4W--/c_limit%2Cf_auto%2Cfl_progressive%2Cq_66%2Cw_880/first.gif\" alt=\"first\" loading=\"lazy\"\u003e\u003c/a\u003e\u003c/p\u003e\n\n","body_markdown":"# Creating animated gifs from your terminal\n\nPost created at 2022-08-19 08:36\n\nI need to generate some videos to demonstrate console applications running.\n\n![gif](dancing-duck-acegifcom-72.gif)\n\n[source](https://acegif.com/wp-content/uploads/2022/4hv9xm/dancing-duck-acegifcom-72.gif)\n\nScreen casting or capture is boring, and generates large files. \n\nThen, I found two command line tools that do the job.\n\nFirst, we need to capture the console interation, and this is done using the Terminal Session Recorder [asciinema](https://asciinema.org/). Installation instructions can be found [here](https://asciinema.org/docs/installation).\n\nI'm using Ubuntu, so the installation was easy-peasy. \n\n```bash\n❯ sudo apt install asciinema\n[sudo] senha para guionardo: \nA ler as listas de pacotes... Pronto\nA construir árvore de dependências \nA ler a informação de estado... Pronto\nSerão instalados os seguintes NOVOS pacotes:\n asciinema\n0 pacotes actualizados, 1 pacotes novos instalados, 0 a remover e 0 não actualizados.\nÉ necessário obter 35,0 kB de arquivos.\nApós esta operação, serão utilizados 125 kB adicionais de espaço em disco.\nObter:1 http://br.archive.ubuntu.com/ubuntu focal/universe amd64 asciinema all 2.0.2-1 [35,0 kB]\nObtidos 35,0 kB em 7s (4.877 B/s) \nA seleccionar pacote anteriormente não seleccionado asciinema.\n(A ler a base de dados ... 435184 ficheiros e directórios actualmente instalados.)\nA preparar para desempacotar .../asciinema_2.0.2-1_all.deb ...\nA descompactar asciinema (2.0.2-1) ...\nA instalar asciinema (2.0.2-1) ...\nA processar 'triggers' para man-db (2.9.1-1) ...\n```\n\nFor our first test, we can command:\n\n```bash\n❯ asciinema rec first.cast\nasciinema: recording asciicast to first.cast\nasciinema: press \u003cctrl-d\u003e or type \"exit\" when you're done\n```\n\nAfter that, you can run your commands normally and all your key strokes and console outputs will be recorded into the *first.cast* file.\n\nTo finish the capture press *CTRL+D* or type *exit*. Check the [official usage documentation](https://asciinema.org/docs/usage) for more options.\n\nNow, we need to generate the animated gif file. The tool to this job is the might [agg - asciinema gif generator](https://github.com/asciinema/agg).\n\nIt's a [rust](https://www.rust-lang.org/) application, and you can clone the repository and build it, or you can download an binary to your environment surfing to the [latest release link](https://github.com/asciinema/agg/releases/latest). Download the correct version to your system, put the executable in some directory you can reach and execute.\n\nCheck if the installation is OK.\n\n```bash\n❯ agg --version\nagg 1.1.0\n```\n\nIf your shell has some fancy unicode characters (like mine), you can reference a TTF font to render the gif.\nI like \"JetBrains Mono\", and you can download it from [here](https://www.jetbrains.com/lp/mono/), or if you like another dev font, you can use.\n\nIn my case, I saved the TTF files into a folder to use in next step.\n\nGenerate a gif from the _first.cast_ file created .\n\n```bash\n❯ ./agg --font-dir ./fonts --font-family \"agave Nerd Font\" first.cast first.gif\n31 / 31 [=================================================================] 100.00 % 47.71/s \n```\n\nAnd now, we have our _first.gif_ file in current folder.\n\n![first](first.gif)\n\n\n","user":{"name":"Guionardo Furlan","username":"guionardo","twitter_username":"guionardo","github_username":"guionardo","user_id":37248,"website_url":null,"profile_image":"https://res.cloudinary.com/practicaldev/image/fetch/s--u_v01jzV--/c_fill,f_auto,fl_progressive,h_640,q_auto,w_640/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/37248/6ed4b320-f9ac-401f-aec4-af926ffe30c0.png","profile_image_90":"https://res.cloudinary.com/practicaldev/image/fetch/s---lfp02sq--/c_fill,f_auto,fl_progressive,h_90,q_auto,w_90/https://dev-to-uploads.s3.amazonaws.com/uploads/user/profile_image/37248/6ed4b320-f9ac-401f-aec4-af926ffe30c0.png"}}